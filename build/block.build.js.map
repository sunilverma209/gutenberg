{"version":3,"file":"block.build.js","mappings":"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","sources":["webpack://dmg-read-more/./assets/js/edit.js","webpack://dmg-read-more/./assets/js/save.js","webpack://dmg-read-more/external window [\"wp\",\"apiFetch\"]","webpack://dmg-read-more/external window [\"wp\",\"blockEditor\"]","webpack://dmg-read-more/external window [\"wp\",\"blocks\"]","webpack://dmg-read-more/external window [\"wp\",\"components\"]","webpack://dmg-read-more/external window [\"wp\",\"element\"]","webpack://dmg-read-more/external window [\"wp\",\"i18n\"]","webpack://dmg-read-more/webpack/bootstrap","webpack://dmg-read-more/webpack/runtime/compat get default export","webpack://dmg-read-more/webpack/runtime/define property getters","webpack://dmg-read-more/webpack/runtime/hasOwnProperty shorthand","webpack://dmg-read-more/./assets/js/block.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport { TextControl, PanelBody, PanelRow } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst Edit = (props) => {\n    const { attributes, setAttributes } = props;\n    const { postID, postTitle, postURL } = attributes;\n    const [searchTerm, setSearchTerm] = useState('');\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        if (searchTerm) {\n            apiFetch({ path: `/wp/v2/posts?search=${searchTerm}` }).then((posts) => {\n                setPosts(posts);\n            });\n        } else {\n            apiFetch({ path: '/wp/v2/posts?per_page=5' }).then((posts) => {\n                setPosts(posts);\n            });\n        }\n    }, [searchTerm]);\n\n    return (\n        <>\n            <InspectorControls>\n                <PanelBody title={__('Post Selection', 'dmg')}>\n                    <PanelRow>\n                        <TextControl\n                            label={__('Search Posts', 'dmg')}\n                            value={searchTerm}\n                            onChange={(term) => setSearchTerm(term)}\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <ul className='dmg-posts'>\n                            {posts.map((post) => (\n                                <li key={post.id} className='dmg-posts__list'>\n                                    <span\n                                        onClick={() => {\n                                            setAttributes({\n                                                postID: post.id,\n                                                postTitle: post.title.rendered,\n                                                postURL: post.link,\n                                            });\n                                        }}\n                                    >\n                                        {post.title.rendered}\n                                    </span>\n                                </li>\n                            ))}\n                        </ul>\n                    </PanelRow>\n                </PanelBody>\n            </InspectorControls>\n            <div {...useBlockProps()}>\n                <p>{__('Read More: ', 'dmg')}<a href={postURL} className=\"dmg-read-more\">{postTitle}</a></p>\n            </div>\n        </>\n    );\n};\n\nexport default Edit;\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\nconst Save = (props) => {\n    const { attributes } = props;\n    const { postTitle, postURL } = attributes;\n\n    return (\n        <p {...useBlockProps.save()}>\n            {__('Read More: ', 'dmg')}\n            <a href={postURL} className=\"dmg-read-more\">{postTitle}</a>\n        </p>\n    );\n};\n\nexport default Save;\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport Edit from './edit';\nimport Save from './save';\n\nregisterBlockType('dmg/read-more', {\n    apiVersion: 2,\n    title: __('DMG Read More', 'dmg'),\n    description: __( 'A DMG Gutenberg block to add a \"Read More\" link to a selected post.', 'dmg' ),\n    category: 'dmg',\n    icon: 'admin-links',\n    supports: {\n        html: false,\n    },\n    attributes: {\n        postID: {\n            type: 'number',\n            default: null,\n        },\n        postTitle: {\n            type: 'string',\n            default: '',\n        },\n        postURL: {\n            type: 'string',\n            default: '',\n        },\n    },\n    edit: Edit,\n    save: Save,\n});\n"],"names":["props","attributes","setAttributes","postTitle","postID","postURL","_useState2","_slicedToArray","useState","searchTerm","setSearchTerm","_useState4","posts","setPosts","useEffect","apiFetch","path","concat","then","React","createElement","Fragment","InspectorControls","PanelBody","title","__","PanelRow","TextControl","label","value","onChange","term","className","map","post","key","id","onClick","rendered","link","useBlockProps","href","save","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","registerBlockType","apiVersion","description","category","icon","supports","html","type","default","edit","Edit","Save"],"sourceRoot":""}